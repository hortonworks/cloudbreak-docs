digraph {
INIT_STATE [label="ClusterCreationFlowConfig" shape=ellipse color=green];
INIT_STATE -> BOOTSTRAPPING_MACHINES_STATE [label="CLUSTER_CREATION_EVENT" color=black style=solid];
INIT_STATE -> STARTING_AMBARI_STATE [label="CLUSTER_INSTALL_EVENT" color=black style=solid];
BOOTSTRAPPING_MACHINES_STATE -> COLLECTING_HOST_METADATA_STATE [label="BOOTSTRAP_MACHINES_FINISHED_EVENT" color=black style=solid];
BOOTSTRAPPING_MACHINES_STATE -> CLUSTER_CREATION_FAILED_STATE [label="BOOTSTRAP_MACHINES_FAILED_EVENT" color=red style=dashed];
CLUSTER_CREATION_FAILED_STATE -> FINAL_STATE [label="CLUSTER_CREATION_FAILURE_HANDLED_EVENT" color=red style=dashed];
COLLECTING_HOST_METADATA_STATE -> STARTING_AMBARI_SERVICES_STATE [label="HOST_METADATASETUP_FINISHED_EVENT" color=black style=solid];
COLLECTING_HOST_METADATA_STATE -> CLUSTER_CREATION_FAILED_STATE [label="HOST_METADATASETUP_FAILED_EVENT" color=red style=dashed];
STARTING_AMBARI_SERVICES_STATE -> STARTING_AMBARI_STATE [label="START_AMBARI_SERVICES_FINISHED_EVENT" color=black style=solid];
STARTING_AMBARI_SERVICES_STATE -> CLUSTER_CREATION_FAILED_STATE [label="START_AMBARI_SERVICES_FAILED_EVENT" color=red style=dashed];
STARTING_AMBARI_STATE -> INSTALLING_CLUSTER_STATE [label="START_AMBARI_FINISHED_EVENT" color=black style=solid];
STARTING_AMBARI_STATE -> CLUSTER_CREATION_FAILED_STATE [label="START_AMBARI_FAILED_EVENT" color=red style=dashed];
INSTALLING_CLUSTER_STATE -> CLUSTER_CREATION_FINISHED_STATE [label="INSTALL_CLUSTER_FINISHED_EVENT" color=black style=solid];
INSTALLING_CLUSTER_STATE -> CLUSTER_CREATION_FAILED_STATE [label="INSTALL_CLUSTER_FAILED_EVENT" color=red style=dashed];
CLUSTER_CREATION_FINISHED_STATE -> FINAL_STATE [label="CLUSTER_CREATION_FINISHED_EVENT" color=black style=solid];
CLUSTER_CREATION_FINISHED_STATE -> CLUSTER_CREATION_FAILED_STATE [label="CLUSTER_CREATION_FAILED_EVENT" color=red style=dashed];
}