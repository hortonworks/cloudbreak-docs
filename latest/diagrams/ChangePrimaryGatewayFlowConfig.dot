digraph {
INIT_STATE [label="ChangePrimaryGatewayFlowConfig" shape=ellipse color=green];
INIT_STATE -> CHANGE_PRIMARY_GATEWAY_STATE [label="CHANGE_PRIMARY_GATEWAY_TRIGGER_EVENT" color=black style=solid];
CHANGE_PRIMARY_GATEWAY_STATE -> WAITING_FOR_AMBARI_SERVER_STATE [label="CHANGE_PRIMARY_GATEWAY_FINISHED" color=black style=solid];
CHANGE_PRIMARY_GATEWAY_STATE -> CHANGE_PRIMARY_GATEWAY_FAILED_STATE [label="CHANGE_PRIMARY_GATEWAY_FAILED" color=red style=dashed];
CHANGE_PRIMARY_GATEWAY_FAILED_STATE -> FINAL_STATE [label="CHANGE_PRIMARY_GATEWAY_FAILURE_HANDLED" color=red style=dashed];
WAITING_FOR_AMBARI_SERVER_STATE -> UPDATE_PROXY_STATE [label="AMBARI_SERVER_STARTED" color=black style=solid];
WAITING_FOR_AMBARI_SERVER_STATE -> CHANGE_PRIMARY_GATEWAY_FAILED_STATE [label="AMBARI_SERVER_START_FAILED" color=red style=dashed];
UPDATE_PROXY_STATE -> CHANGE_PRIMARY_GATEWAY_FINISHED_STATE [label="REGISTER_PROXY_FINISHED_EVENT" color=black style=solid];
UPDATE_PROXY_STATE -> CHANGE_PRIMARY_GATEWAY_FAILED_STATE [label="REGISTER_PROXY_FAILED_EVENT" color=red style=dashed];
CHANGE_PRIMARY_GATEWAY_FINISHED_STATE -> FINAL_STATE [label="CHANGE_PRIMARY_GATEWAY_FLOW_FINISHED" color=black style=solid];
CHANGE_PRIMARY_GATEWAY_FINISHED_STATE -> CHANGE_PRIMARY_GATEWAY_FAILED_STATE [label="CHANGE_PRIMARY_GATEWAY_FAILED" color=red style=dashed];
}