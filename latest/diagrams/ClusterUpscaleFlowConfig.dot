digraph {
INIT_STATE [label="ClusterUpscaleFlowConfig" shape=ellipse color=green];
ADD_CLUSTER_CONTAINERS_STATE [label="ADD_CLUSTER_CONTAINERS_STATE\nAddClusterContainersAction" shape=rect color=black];
INIT_STATE -> ADD_CLUSTER_CONTAINERS_STATE [label="ADD_CONTAINERS_EVENT" color=black style=solid];
ADD_CLUSTER_CONTAINERS_STATE -> INSTALL_FS_RECIPES_STATE [label="ADD_CONTAINERS_FINISHED_EVENT" color=black style=solid];
ADD_CLUSTER_CONTAINERS_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="ADD_CONTAINERS_FAILED_EVENT" color=red style=dashed];
CLUSTER_UPSCALE_FAILED_STATE -> FINAL_STATE [label="FAIL_HANDLED_EVENT" color=red style=dashed];
INSTALL_FS_RECIPES_STATE -> WAIT_FOR_AMBARI_HOSTS_STATE [label="INSTALL_FS_RECIPES_FINISHED_EVENT" color=black style=solid];
INSTALL_FS_RECIPES_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="INSTALL_FS_RECIPES_FAILED_EVENT" color=red style=dashed];
WAIT_FOR_AMBARI_HOSTS_STATE -> CONFIGURE_SSSD_STATE [label="WAIT_FOR_AMBARI_HOSTS_FINISHED_EVENT" color=black style=solid];
WAIT_FOR_AMBARI_HOSTS_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="WAIT_FOR_AMBARI_HOSTS_FAILED_EVENT" color=red style=dashed];
CONFIGURE_SSSD_STATE -> INSTALL_RECIPES_STATE [label="SSSD_CONFIG_FINISHED_EVENT" color=black style=solid];
CONFIGURE_SSSD_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="SSSD_CONFIG_FAILED_EVENT" color=red style=dashed];
INSTALL_RECIPES_STATE -> EXECUTE_PRE_RECIPES_STATE [label="INSTALL_RECIPES_FINISHED_EVENT" color=black style=solid];
INSTALL_RECIPES_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="INSTALL_RECIPES_FAILED_EVENT" color=red style=dashed];
EXECUTE_PRE_RECIPES_STATE -> INSTALL_SERVICES_STATE [label="EXECUTE_PRE_RECIPES_FINISHED_EVENT" color=black style=solid];
EXECUTE_PRE_RECIPES_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="EXECUTE_PRE_RECIPES_FAILED_EVENT" color=red style=dashed];
INSTALL_SERVICES_STATE -> EXECUTE_POST_RECIPES_STATE [label="INSTALL_SERVICES_FINISHED_EVENT" color=black style=solid];
INSTALL_SERVICES_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="INSTALL_SERVICES_FAILED_EVENT" color=red style=dashed];
EXECUTE_POST_RECIPES_STATE -> UPDATE_METADATA_STATE [label="EXECUTE_POST_RECIPES_FINISHED_EVENT" color=black style=solid];
EXECUTE_POST_RECIPES_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="EXECUTE_POST_RECIPES_FAILED_EVENT" color=red style=dashed];
UPDATE_METADATA_STATE -> FINALIZE_UPSCALE_STATE [label="UPDATE_METADATA_FINISHED_EVENT" color=black style=solid];
UPDATE_METADATA_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="UPDATE_METADATA_FAILED_EVENT" color=red style=dashed];
FINALIZE_UPSCALE_STATE -> FINAL_STATE [label="FINALIZED_EVENT" color=black style=solid];
FINALIZE_UPSCALE_STATE -> CLUSTER_UPSCALE_FAILED_STATE [label="FAILURE_EVENT" color=red style=dashed];
}