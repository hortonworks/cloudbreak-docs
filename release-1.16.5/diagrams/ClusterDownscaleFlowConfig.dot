digraph {
INIT_STATE [label="ClusterDownscaleFlowConfig" shape=ellipse color=green];
INIT_STATE -> COLLECT_CANDIDATES_STATE [label="DECOMMISSION_EVENT" color=black style=solid];
COLLECT_CANDIDATES_STATE -> DECOMMISSION_STATE [label="COLLECT_CANDIDATES_FINISHED_EVENT" color=black style=solid];
COLLECT_CANDIDATES_STATE -> CLUSTER_DOWNSCALE_FAILED_STATE [label="COLLECT_CANDIDATES_FAILED_EVENT" color=red style=dashed];
CLUSTER_DOWNSCALE_FAILED_STATE -> FINAL_STATE [label="FAIL_HANDLED_EVENT" color=red style=dashed];
DECOMMISSION_STATE -> UPDATE_INSTANCE_METADATA_STATE [label="DECOMMISSION_FINISHED_EVENT" color=black style=solid];
DECOMMISSION_STATE -> CLUSTER_DOWNSCALE_FAILED_STATE [label="DECOMMISSION_FAILED_EVENT" color=red style=dashed];
UPDATE_INSTANCE_METADATA_STATE -> FINAL_STATE [label="FINALIZED_EVENT" color=black style=solid];
UPDATE_INSTANCE_METADATA_STATE -> CLUSTER_DOWNSCALE_FAILED_STATE [label="FAILURE_EVENT" color=red style=dashed];
}