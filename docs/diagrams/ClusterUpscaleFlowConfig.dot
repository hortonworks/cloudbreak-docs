digraph {
INIT_STATE [label="ClusterUpscaleFlowConfig" shape=ellipse color=green];
INIT_STATE -> ADD_CLUSTER_CONTAINERS_STATE [label="CLUSTER_UPSCALE_ADD_CONTAINERS_EVENT" color=black style=solid];
FAILED_STATE [label="FAILED_STATE\nClusterUpscaleFailAction" shape=rect color=black];
ADD_CLUSTER_CONTAINERS_STATE -> FAILED_STATE [label="CLUSTER_UPSCALE_FAILURE_EVENT" color=red style=dashed];
FAILED_STATE -> FINAL_STATE [label="CLUSTER_UPSCALE_FAIL_HANDLED_EVENT" color=red style=dashed];
ADD_CLUSTER_CONTAINERS_STATE -> INSTALL_AMBARI_NODES_STATE [label="CLUSTER_UPSCALE_ADD_CONTAINERS_FINISHED_EVENT" color=black style=solid];
INSTALL_AMBARI_NODES_STATE -> FAILED_STATE [label="CLUSTER_UPSCALE_FAILURE_EVENT" color=red style=dashed];
INSTALL_AMBARI_NODES_STATE -> CONFIGURE_SSSD_STATE [label="CLUSTER_UPSCALE_INSTALL_AMBARI_NODES_FINISHED_EVENT" color=black style=solid];
CONFIGURE_SSSD_STATE -> FAILED_STATE [label="CLUSTER_UPSCALE_FAILURE_EVENT" color=red style=dashed];
CONFIGURE_SSSD_STATE -> INSTALL_RECIPES_STATE [label="CLUSTER_UPSCALE_SSSD_CONFIG_FINISHED_EVENT" color=black style=solid];
INSTALL_RECIPES_STATE -> FAILED_STATE [label="CLUSTER_UPSCALE_FAILURE_EVENT" color=red style=dashed];
INSTALL_RECIPES_STATE -> EXECUTE_PRE_RECIPES_STATE [label="CLUSTER_UPSCALE_INSTALL_RECIPES_FINISHED_EVENT" color=black style=solid];
EXECUTE_PRE_RECIPES_STATE -> FAILED_STATE [label="CLUSTER_UPSCALE_FAILURE_EVENT" color=red style=dashed];
EXECUTE_PRE_RECIPES_STATE -> INSTALL_SERVICES_STATE [label="CLUSTER_UPSCALE_EXECUTE_PRE_RECIPES_FINISHED_EVENT" color=black style=solid];
INSTALL_SERVICES_STATE -> FAILED_STATE [label="CLUSTER_UPSCALE_FAILURE_EVENT" color=red style=dashed];
INSTALL_SERVICES_STATE -> EXECUTE_POST_RECIPES_STATE [label="CLUSTER_UPSCALE_INSTALl_SERVICES_FINISHED_EVENT" color=black style=solid];
EXECUTE_POST_RECIPES_STATE -> FAILED_STATE [label="CLUSTER_UPSCALE_FAILURE_EVENT" color=red style=dashed];
EXECUTE_POST_RECIPES_STATE -> FINALIZE_STATE [label="CLUSTER_UPSCALE_EXECUTE_POST_RECIPES_FINISHED_EVENT" color=black style=solid];
FINALIZE_STATE -> FAILED_STATE [label="CLUSTER_UPSCALE_FAILURE_EVENT" color=red style=dashed];
FINALIZE_STATE -> FINAL_STATE [label="CLUSTER_UPSCALE_FINALIZED_EVENT" color=black style=solid];
}